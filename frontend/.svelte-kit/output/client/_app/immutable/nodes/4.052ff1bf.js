import{s as X,n as J,e as Y,o as Z,f as K}from"../chunks/scheduler.63274e7e.js";import{S as k,i as ee,g as f,s as w,h as u,j as b,y as te,c as x,f as m,k as d,a as W,x as c,z as se,m as $,n as q,l as N,o as O}from"../chunks/index.d7c298af.js";import{F as Q}from"../chunks/film-store.75b5ca4c.js";function R(i){return(i==null?void 0:i.length)!==void 0?i:Array.from(i)}function T(i,l,n){const a=i.slice();return a[1]=l[n],a}function U(i){let l,n,a,v,h,o,e,t,r=i[1].name+"",s,p,D,A,V=i[1].director+"",y,H,I,E,M,F,P;return{c(){l=f("div"),n=f("div"),a=f("img"),h=w(),o=f("div"),e=f("div"),t=f("h5"),s=$(r),p=w(),D=f("p"),A=$("Directed by "),y=$(V),H=w(),I=f("div"),E=f("a"),M=$("View"),P=w(),this.h()},l(_){l=u(_,"DIV",{class:!0});var g=b(l);n=u(g,"DIV",{class:!0});var j=b(n);a=u(j,"IMG",{class:!0,style:!0,src:!0,alt:!0}),h=x(j),o=u(j,"DIV",{class:!0});var C=b(o);e=u(C,"DIV",{});var S=b(e);t=u(S,"H5",{class:!0});var G=b(t);s=q(G,r),G.forEach(m),p=x(S),D=u(S,"P",{class:!0});var z=b(D);A=q(z,"Directed by "),y=q(z,V),z.forEach(m),S.forEach(m),H=x(C),I=u(C,"DIV",{});var L=b(I);E=u(L,"A",{href:!0,class:!0});var B=b(E);M=q(B,"View"),B.forEach(m),L.forEach(m),C.forEach(m),j.forEach(m),P=x(g),g.forEach(m),this.h()},h(){d(a,"class","card-img-top"),N(a,"height","300px"),N(a,"object-fit","cover"),K(a.src,v=i[1].image)||d(a,"src",v),d(a,"alt","Film"),d(t,"class","card-title"),d(D,"class","card-text"),d(E,"href",F="/films/"+i[1].id),d(E,"class","btn btn-primary"),d(o,"class","card-body d-flex flex-column justify-content-between gap-4"),d(n,"class","card w-100 h-100"),d(l,"class","col-12 col-sm-6 col-md-4")},m(_,g){W(_,l,g),c(l,n),c(n,a),c(n,h),c(n,o),c(o,e),c(e,t),c(t,s),c(e,p),c(e,D),c(D,A),c(D,y),c(o,H),c(o,I),c(I,E),c(E,M),c(l,P)},p(_,g){g&1&&!K(a.src,v=_[1].image)&&d(a,"src",v),g&1&&r!==(r=_[1].name+"")&&O(s,r),g&1&&V!==(V=_[1].director+"")&&O(y,V),g&1&&F!==(F="/films/"+_[1].id)&&d(E,"href",F)},d(_){_&&m(l)}}}function le(i){let l,n,a="Film List",v,h,o=R(i[0]),e=[];for(let t=0;t<o.length;t+=1)e[t]=U(T(i,o,t));return{c(){l=f("div"),n=f("h2"),n.textContent=a,v=w(),h=f("div");for(let t=0;t<e.length;t+=1)e[t].c();this.h()},l(t){l=u(t,"DIV",{});var r=b(l);n=u(r,"H2",{class:!0,"data-svelte-h":!0}),te(n)!=="svelte-hafeum"&&(n.textContent=a),v=x(r),h=u(r,"DIV",{class:!0});var s=b(h);for(let p=0;p<e.length;p+=1)e[p].l(s);s.forEach(m),r.forEach(m),this.h()},h(){d(n,"class","my-4"),d(h,"class","my-4 row")},m(t,r){W(t,l,r),c(l,n),c(l,v),c(l,h);for(let s=0;s<e.length;s+=1)e[s]&&e[s].m(h,null)},p(t,[r]){if(r&1){o=R(t[0]);let s;for(s=0;s<o.length;s+=1){const p=T(t,o,s);e[s]?e[s].p(p,r):(e[s]=U(p),e[s].c(),e[s].m(h,null))}for(;s<e.length;s+=1)e[s].d(1);e.length=o.length}},i:J,o:J,d(t){t&&m(l),se(e,t)}}}function ae(i,l,n){let a;return Y(i,Q,v=>n(0,a=v)),Z(async function(){if(!a.length){const o=await(await fetch("http://localhost:8000/api/films/")).json();Q.set(o)}}),[a]}class oe extends k{constructor(l){super(),ee(this,l,ae,le,X,{})}}export{oe as component};
